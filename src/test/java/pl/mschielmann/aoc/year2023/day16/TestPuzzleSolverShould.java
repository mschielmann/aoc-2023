package pl.mschielmann.aoc.year2023.day16;

import org.junit.jupiter.api.Test;

import static org.assertj.core.api.Assertions.assertThat;


class TestPuzzleSolverShould
{

    @Test
    void solvePartOneWithTestData()
    {
        // GIVEN
        PuzzleSolver puzzleSolver = new PuzzleSolver(TEST_INPUT);

        // WHEN
        long result = puzzleSolver.solvePartOne();

        // THEN
        assertThat(result).isEqualTo(46L);
    }

    @Test
    void solvePartOneWithActualData()
    {
        // GIVEN
        PuzzleSolver puzzleSolver = new PuzzleSolver(INPUT);

        // WHEN
        long result = puzzleSolver.solvePartOne();

        // THEN
        assertThat(result).isEqualTo(7236L);
    }

    @Test
    void solvePartTwoWithTestData()
    {
        // GIVEN
        PuzzleSolver puzzleSolver = new PuzzleSolver(TEST_INPUT);

        // WHEN
        long result = puzzleSolver.solvePartTwo();

        // THEN
        assertThat(result).isEqualTo(51L);
    }

    @Test
    void solvePartTwoWithActualData()
    {
        // GIVEN
        PuzzleSolver puzzleSolver = new PuzzleSolver(INPUT);

        // WHEN
        long result = puzzleSolver.solvePartTwo();

        // THEN
        assertThat(result).isEqualTo(7521L);
    }

    private static final String TEST_INPUT = """
            .|...\\....
            |.-.\\.....
            .....|-...
            ........|.
            ..........
            .........\\
            ..../.\\\\..
            .-.-/..|..
            .|....-|.\\
            ..//.|....
            """;

    static final String INPUT = """
            \\../....|.-........|.................|...\\....../...............\\...............|..................\\........|.
            .-...../.......-.......|./.........-.....-.......\\...|.-...........-.......\\.................-....-...........
            .\\....-\\..|...\\.....\\...................................................................../................-..
            .....|.............-.\\....../......|.....\\......................|...-.....-.........|.-......\\................
            ........./............................-.|..|.........|.....|..................................................
            ................./.................|.................\\...............\\..................|.../.....././........
            ...-..|.........-.............\\..|..-......./............\\.-....|..|........\\...-......\\....../...\\\\..........
            ..............\\..|............/..............|..........................................|............\\........
            .|...........................-.-.........-..\\|...|.......|\\............\\|.....................................
            ..........-./.\\.....|...................|./............./.-..............|........../.....-/..................
            ....../.....\\/..........\\.........|\\...........|....--................/................../......-..........-..
            -.|.......|...................../................\\..................-\\........-.....\\.........................
            ...-|................................................\\...........-.........\\/.-......-.............|..........
            .......\\../....\\..............|..........|.....\\............|.............|......./................./....../\\.
            .....|..................|...|......-.....|..-....|\\\\.........\\\\........|....................|............-....
            ......./........./...-..-|................../...|....................|-.......\\-............................./
            ................../......-...........|...|........./.....\\..|......../..../.......|...|.................-.....
            .................................../.|..........|...............\\..........|...............-.............|/...
            .......\\.-......-................................/......|..\\...\\.........../........|......\\.........-..-....\\
            ....................|./.....-..../.............|...............-.../.\\........-..-............/....|.......-..
            ...........\\...........................\\.|.................-...............|........-....................|..|.
            ..|.-.....\\.......|................-.........../.............................................|....//.\\........
            ..-...............\\......../..||.....|.....\\.|.........................\\.....|....-.........../..../..........
            ..|......../.../.............|..........-...................-................\\...\\..\\......-..................
            ...../...........-..../...|..\\...././..\\.|............\\....................-|......../........................
            /..|............-\\..|.................../.../..................../...-........|...............-../......|-....
            ................/..............................................|.|......-...................|.................
            ....\\..../.../.................\\\\............................................\\........\\................../..|.
            ../.-.............|......|.........\\.........-\\........../..........|.\\.......................................
            ................./................./\\......./........-.........................../........-..........|....\\.\\.
            ..\\...../............/.............................................-.......--...|.................|...../...-.
            ..\\......................-.......................-......-.\\.-/../......./...........................-../......
            ...............-.................../................../.................-.........................|....\\....|.
            ..../.\\|..............-...../...|...../................\\-....\\..\\........|....................-...............
            .........................\\...-...-|...................\\....../........|...............-....../.../......./....
            ....\\......../.-....-........-...../.....-.......-.\\...............\\.........\\............./.....\\-...|-..-|..
            .../\\................-....\\.......|..-............-.\\.............\\..\\........-............/......./......../.
            ..\\.....|...............|..\\......|..................................|......./.....\\...|..|....\\../......./...
            ......|.....././.....-..\\..........................-\\.............|..../.................................-/...
            ................|\\.......|...|.|....................\\..............\\........................\\.-...||..........
            .-.......\\...........-...../............/--....-..\\-......................./...-.....|..........\\/.....-......
            ...-............-.........\\.....................|.........../.........../............|.-.|.....\\.../...\\-.....
            .......................|...........\\................./...................\\............................|.......
            ......................|..|.\\...............-.../................/.../.../...........................-.|.......
            .\\.|..........-.|................................../................................/.........-.\\....\\../.....
            ./............\\..\\............................|....../........\\.........................\\.......\\..../.\\.....-
            ....................../.....................|......./....../............................\\....................|
            ..............................||....\\........-..............................\\..........\\\\........./.../.......
            ....\\....../....................................-..-........................-................-....|.........\\.
            .......-......\\.-\\.|............................................/......-......../.......\\.....................
            ....../...................|........-....-........./...........-.-........./....\\..............................
            ..-/..............\\............|........../....................\\........-.\\...................................
            ...-......\\............/\\...........\\.........................-.......\\.-./...................................
            ..........-.\\.//......................--............\\....../.........../-./...................................
            .......\\-.-..-.....\\.............|............\\....../........\\......../...............-..............|....-..
            ........./.-.............\\.........................-....|\\..........|..../...-.........................\\.\\...\\
            .........|..\\.|.........-...-........-./............|......|....................|.........../...|.............
            ................./....-..../\\..............|../-................|.../..............-./|..-........||..........
            ...../.......-.............|.........-.....|.............................\\........\\.........\\.................
            .............|...../...................../.................\\\\.....................|\\..........-....././......-
            .............../..../..../....................../...\\.......-..........................\\\\...-|.........../....
            ...........|........|........../..-........../......\\...........-.......-.......-.......................-..|..
            ........................\\...../.........-.........\\.....|...|.........-.....-................-|.../...........
            ..-...............|...-...........\\|.\\.......\\..............................\\./......./..........-............
            ........................../....../....................................|................................../....
            /.......\\.................................\\./............................|...\\..............|...-............|
            .....-.....................|.........|................-.\\.....-..../..../...............-.........|...........
            ...|................\\../..|.................|............/.....-......../.........-...\\-.-.......\\............
            ........................\\....-..........|..-....../..............-..........-..|.........\\.-...........\\......
            ................................\\\\......./...................-...........|..................\\....|...|../.....
            ......-.-.|...\\.........|.........|....\\......................................................................
            ...................-/....\\......../...........|................/......|.-........\\|./..|......../.....|..\\....
            ....../........-...\\../../..........|...\\.....\\.............................../......-........-...............
            ............\\...-....|...................\\............-.............|..-......|..../-.........................
            ...........././.-......./............../.....\\...-..-.-|.....\\../............-..|..|..................--..././
            ...................-......-...././............./.......\\\\...../|.................\\..............\\..|..........
            .|.|.../..\\|..-../........................................................-...................................
            ...............-...../.....|...|....\\........|......|.............\\..........................-...\\............
            ..\\.......................-..............\\..-...........-...............\\.\\-....-.............................
            ..............-............/..-.......|....-/............../........|............../......|..................-
            .......|..........|..-..../...................................|-......-..\\......./........................\\...
            .........................................-......./..........|.....\\../.../......|./.........................\\\\
            ...-.-.........../......./.-........//..|...................|.........-..........|........................-...
            ........./...../.........\\.......\\..............-........../-./..|.\\...............|....................../...
            ........-.......\\\\.........-...\\..//...-.........\\\\....../.-................\\.......\\...\\............/...\\....
            ................-...|......-.....-..|...../....../...-./.............-...........................-|...........
            ....-..-...........|.................../..\\.....|......|...............-.-.|.........../.........../..|....../
            ....\\......................................\\................../..|...........-.\\.....\\.........||...........|.
            .........................\\.................-...............\\.....\\.-......................\\.......-\\.-........
            ...............-..\\................\\.................../.............-...................................../..
            ..-|../.-..|....\\............-.......\\.../....../...-...../|.........\\..\\..-..../.-..\\....|........\\..........
            .........................../............|....................-......................................|.........
            ...../...........|.../........./............./......../.........-.............|..............-.......-|..-...|
            ..\\/......./.\\................/.......-............\\..\\............................................\\..........
            .......\\.\\.\\......../|......\\....................|..\\..........-............./.........-...\\....|../\\......|..
            ...........\\......././.........\\......../...............................|........./...|.......................
            ............|.......|......./.............-..-.........\\.....\\....................../................./.......
            ...................................................../...../...............\\........-.........................
            .|...............-.............-........................|...............................-..|................/.
            ..............\\....../../...........-.-..\\........../...........-.....-......................|..../..|.|......
            ...................../...-.-........................../.........................|.....\\.......................
            .........\\............\\..............|.....//........-..\\.../..................-.......//..........|......|..\\
            ...../\\.........\\.......|....|....\\...|..........\\..............//........-..-.......-............-.-./.......
            .........|.........................\\...............................|/..........\\..\\...-..|..................\\.
            ........................\\..........|........./..-......\\..../..|............\\......./......................./|
            ................\\.-...................|.......|/.-|....-.-.../......-.-...-.......-.........../.....-..|......
            ..........-.\\......-.-....-............\\..-.......\\....-.../\\..................|............/...|..../.....-..
            |.....................|..\\...................||............\\...\\......./........................-.....|..../..
            .|..../.......|..........................................................|....../.....|.....|.....-...........
            .......................|..-..\\../.....|.........\\.................-...........................................
            """;
}
